<!-- <div class="total">
  <h1 mat-dialog-title> اضافة امتحان</h1>
  <div class="edit-form">
    <form [formGroup]="AddExam" (ngSubmit)="onSubmit()">
      <div class="form-group" *ngIf="AddExam.controls['name'].errors?.['required']" >
        <label for="subSubjectID">اضافة الي محاضرة</label>
        <select formControlName="subSubjectID" class="select" id="IsAppear">
          <option value="{{item?.id}}" *ngFor="let item of subsubjects">{{item?.name}}</option>
        </select>
      </div>
      <div class="button-group">
        <button type="button" class="cancel-button" (click)="onNoClick()">خروج</button>
        <button type="submit" class="save-button">حفظ</button>
      </div>
    </form>
  </div>
</div> -->
<div class="container add">
  <h1 mat-dialog-title>اضافة امتحان</h1>
  <div class="container mt-5">
    <form [formGroup]="AddExam" enctype="multipart/form-data" mat-dialog-content>
      <div class="row">
        <div class="col-md-4">
          <div class="mb-3">
            <label for="input1" class="form-label"> الاسم</label>
            <input type="text" class="form-control" id="input1" name="name" formControlName="name" required>
            <div class="form-group" *ngIf="AddExam.controls['name'].errors?.['required']">
              <div *ngIf="AddExam.controls['name']?.touched  && AddExam.controls['name']?.invalid" class="text-danger">
                ادخل الاسم
              </div>
              <div class="text-danger" *ngIf="invalid && AddExam.controls['name']?.touched ==false">
                ادخل الاسم
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label for="dropdown" class="form-label"> الدرجة</label>
            <input class="form-control" id="input1" name="name" formControlName="degree" type="number" >
            <div class="form-group" *ngIf="AddExam.controls['degree'].errors?.['required']">
              <div *ngIf="AddExam.controls['degree']?.touched  && AddExam.controls['degree']?.invalid"
                class="text-danger">
                ادخل الدرجة
              </div>
              <div class="text-danger" *ngIf="invalid && AddExam.controls['degree']?.touched ==false">
                ادخل الدرجة
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label for="dropdown" class="form-label">المدة (دقيقة)</label>
            <input class="form-control" id="input1" name="name" formControlName="examDuration" type="number" >
            <div class="form-group" *ngIf="AddExam.controls['examDuration'].errors?.['required']">
              <div *ngIf="AddExam.controls['examDuration']?.touched  && AddExam.controls['examDuration']?.invalid"
                class="text-danger">
                ادخل المدة
              </div>
              <div class="text-danger" *ngIf="invalid && AddExam.controls['examDuration']?.touched ==false">
                ادخل المدة
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label for="dropdown" class="form-label">بدا الامتحان</label>
            <input class="form-control" id="input1" name="name" formControlName="examOpenDate" type="datetime-local"
              >
            <div class="form-group" *ngIf="AddExam.controls['examOpenDate'].errors?.['required']">
              <div *ngIf="AddExam.controls['examOpenDate']?.touched  && AddExam.controls['examOpenDate']?.invalid"
                class="text-danger">
                ادخل بدا الامتحان
              </div>
              <div class="text-danger" *ngIf="invalid && AddExam.controls['examOpenDate']?.touched ==false">
                ادخل بدا الامتحان
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label for="dropdown" class="form-label">انتهاء الامتحان</label>
            <input class="form-control" id="input1" name="name" formControlName="examCloseDate" type="datetime-local"
              >
            <div class="form-group" *ngIf="AddExam.controls['examCloseDate'].errors?.['required']">
              <div *ngIf="AddExam.controls['examCloseDate']?.touched  && AddExam.controls['examCloseDate']?.invalid"
                class="text-danger">
                ادخل انتهاء الامتحان
              </div>
              <div class="text-danger" *ngIf=" AddExam.controls['examCloseDate']?.touched ==false">
                ادخل انتهاء الامتحان
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label for="dropdown" class="form-label">الاسبوع</label>
            <!-- <select formControlName="subSubjectID" class="form-control" id="dropdown" autocomplete="on">
              <option value="{{item.id}}" *ngFor="let item of subsubjects">{{item.name}}</option>
            </select> -->
            <ng-autocomplete class="form-control" [data]="subsubjects" [searchKeyword]="keyword"
              formControlName="subSubjectID"
              (selected)='selectEvent($event)' (inputChanged)='onChangeSearch($event)'
              (inputFocused)='onFocused($event)' [itemTemplate]="itemTemplate"
              [notFoundTemplate]="notFoundTemplate" (onNoResults)="handleNoResults()">
            </ng-autocomplete>

            <ng-template #itemTemplate let-item>
              <a [innerHTML]="item.name"></a>
            </ng-template>

            <ng-template #notFoundTemplate let-notFound>
              <div>لا يوجد</div>
            </ng-template>
            <div class="text-danger" *ngIf="(valuebool == true) ">
              الرجاء ادخل الكتابة صحيحه
            </div>
            <div class="form-group" *ngIf="AddExam.controls['subSubjectID'].errors?.['required']">
              <div *ngIf="AddExam.controls['subSubjectID']?.touched  && AddExam.controls['subSubjectID']?.invalid"
                class="text-danger">
                ادخل الاسبوع
              </div>
              <div class="text-danger" *ngIf="invalid && AddExam.controls['subSubjectID']?.touched ==false">
                ادخل انتهاء الامتحان
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-3 btnConCam d-flex justify-content-end">
        <button type="submit" class="btn btn-primary mx-3 " (click)="onSubmit()">حفظ</button>
        <button type="submit" class="btn btn-danger mx-3 " (click)="onNoClick()">خروج</button>
      </div>

    </form>
  </div>
</div>