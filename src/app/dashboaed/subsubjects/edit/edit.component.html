<!-- <div class="total">
  <h1 mat-dialog-title>تعديل اسبوع </h1>
  <div mat-dialog-content>
    <div class="edit-form">
      <form [formGroup]="formsubsubjects" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
        <div class="form">
          <div class="form-group ">
            <label for="name">الاسم</label>
            <input type="text" formControlName="name" id="name" name="name" required>
          </div>

          <div   class="form-group"  *ngIf="formsubsubjects.controls['CloseDate'].errors?.['required']"  *ngIf="formsubsubjects.controls['CloseDate'].errors?.['required']">
            <label for="subjectID">الشهر </label>
            <select name="subjectID" formControlName="subjectID" id="subjectID">
              <option value="{{item.id}}" *ngFor="let item of GetAllSubject">
                {{item.name}}</option>
            </select>
          </div>
          <div   class="form-group"  *ngIf="formsubsubjects.controls['CloseDate'].errors?.['required']"  *ngIf="formsubsubjects.controls['CloseDate'].errors?.['required']">
            <label for="openDate"> البداية</label>
            <input type="datetime-local" id="openDate" formControlName="openDate" name="openDate" required>
          </div>
          <div   class="form-group"  *ngIf="formsubsubjects.controls['CloseDate'].errors?.['required']"  *ngIf="formsubsubjects.controls['CloseDate'].errors?.['required']">
            <label for="closeDate"> الانتهاء</label>
            <input type="datetime-local" id="closeDate" formControlName="closeDate" name="closeDate" required>
          </div>
        </div>
      </form>

    </div>
  </div>
  <div class="button-group" mat-dialog-actions>
    <button type="button" class="cancel-button" mat-button mat-dialog-close (click)="onNoClick()">خروج</button>
    <button type="button" class="save-button" mat-button (click)="onSubmit()">حفظ</button>
  </div>
</div> -->

<div class="container add">
  <h1 mat-dialog-title>تعديل اسبوع </h1>
  <div class="container mt-5">
    <form [formGroup]="formsubsubjects" enctype="multipart/form-data" mat-dialog-content>
      <div class="row">
        <div class="col-md-5">
          <div class="mb-3">
            <label for="input1" class="form-label">الاسم</label>
            <input type="text" class="form-control" id="input1" name="name" formControlName="name" required>
            <div class="form-group" *ngIf="formsubsubjects.controls['name'].errors?.['required']">
              <div *ngIf="formsubsubjects.controls['name']?.touched  && formsubsubjects.controls['name']?.invalid"
                class="text-danger">
                ادخل الاسم
              </div>
              <div class="text-danger" *ngIf="invalid && formsubsubjects.controls['name']?.touched ==false">
                ادخل الاسم
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-5">
          <div class="mb-3">
            <label for="input3" class="form-label">الشهر</label>
            <!-- <select class="form-control" id="input3" formControlName="subjectID" id="subjectID" autocomplete="on">
              <option value="{{item.id}}" *ngFor="let item of GetAllSubject">
                {{item.name}}</option>
            </select> -->
            <div class="ng-autocomplete">
              <ng-autocomplete [data]="GetAllSubject" [searchKeyword]="keyword" [initialValue]="SubjectIdentity?.name"
                (selected)='selectEvent($event)' formControlName="subjectID" (inputChanged)='onChangeSearch($event)'
                (inputFocused)='onFocused($event)' [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">
              </ng-autocomplete>

              <ng-template #itemTemplate let-item>
                <a [innerHTML]="item.name"></a>
              </ng-template>

              <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="" class="text-danger">لا يوجد</div>
              </ng-template>
            </div>
            <div *ngIf="ErrorsubjectID" class="text-danger">
              ادخل كتابة الشهر صحيحا
            </div>
            <div class="form-group" *ngIf="formsubsubjects.controls['subjectID'].errors?.['required']">
              <div
                *ngIf="formsubsubjects.controls['subjectID']?.touched  && formsubsubjects.controls['subjectID']?.invalid"
                class="text-danger">
                ادخل الشهر
              </div>
              <div class="text-danger" *ngIf="invalid && formsubsubjects.controls['subjectID']?.touched ==false">
                ادخل الشهر
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-5">
          <div class="mb-3">
            <label for="input3" class="form-label">الاسبوع</label>
            <!-- <select class="form-control" id="input3" formControlName="subjectID" id="subjectID" autocomplete="on">
              <option value="{{item.id}}" *ngFor="let item of GetAllSubject">
                {{item.name}}</option>
            </select> -->
            <div class="ng-autocomplete">
              <ng-autocomplete [data]="GetAllSubSubject" [searchKeyword]="keyword2"
                [initialValue]="SubSubjectIdentity?.name" (selected)='selectEvent2($event)'
                formControlName="previousSubSubjectID" (inputChanged)='onChangeSearch2($event)'
                (inputFocused)='onFocused2($event)' [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">
              </ng-autocomplete>

              <ng-template #itemTemplate let-item>
                <a [innerHTML]="item.name"></a>
              </ng-template>

              <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="" class="text-danger">لا يوجد</div>
              </ng-template>
            </div>
            <div *ngIf="ErrorspreviousSubSubjectID" class="text-danger">
              ادخل كتابة الاسبوع صحيحا
            </div>
            <div class="form-group" *ngIf="formsubsubjects.controls['previousSubSubjectID'].errors?.['required']">
              <div
                *ngIf="formsubsubjects.controls['previousSubSubjectID']?.touched  && formsubsubjects.controls['previousSubSubjectID']?.invalid"
                class="text-danger">
                ادخل الاسبوع
              </div>
              <div class="text-danger"
                *ngIf="invalid && formsubsubjects.controls['previousSubSubjectID']?.touched ==false">
                ادخل الاسبوع
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-5">
          <div class="mb-3">
            <label for="input4" class="form-label">البداية</label>
            <input class="form-control" id="input4" type="datetime-local" formControlName="openDate">
            <div class="form-group" *ngIf="formsubsubjects.controls['openDate'].errors?.['required']">
              <div
                *ngIf="formsubsubjects.controls['openDate']?.touched  && formsubsubjects.controls['openDate']?.invalid"
                class="text-danger">
                ادخل البداية
              </div>
              <div class="text-danger" *ngIf="invalid && formsubsubjects.controls['openDate']?.touched ==false">
                ادخل البداية
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-5">
          <div class="mb-3">
            <label for="input4" class="form-label">النهاية</label>
            <input class="form-control" id="input4" type="datetime-local" formControlName="closeDate">
            <div class="form-group" *ngIf="formsubsubjects.controls['closeDate'].errors?.['required']">
              <div
                *ngIf="formsubsubjects.controls['closeDate']?.touched  && formsubsubjects.controls['closeDate']?.invalid"
                class="text-danger">
                ادخل النهاية
              </div>
              <div class="text-danger"
                *ngIf="invalid && formsubsubjects.controls['closeDate']?.touched ==false&& formsubsubjects.controls['closeDate']?.errors?.['required']">
                ادخل النهاية
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-5">
          <div class="mb-3">
            <label for="input6" class="form-label">رفع الملف</label>
            <input type="file" class="form-control" id="input6" (change)="onFileSelected($event)" #filephoto>
            <p style="color: red;">{{Errorimage}}</p>
            <p>{{ImageName}}</p>
          </div>
        </div>
      </div>
      <!-- Repeat the above code for the remaining inputs (3-8) -->
      <div class="mt-3 btnConCam d-flex justify-content-end">
        <button type="submit" class="btn btn-primary mx-3" (click)="onSubmit()">حفظ</button>
        <button type="submit" class="btn btn-danger mx-3 " (click)="onNoClick()">خروج</button>
      </div>
    </form>
  </div>
</div>