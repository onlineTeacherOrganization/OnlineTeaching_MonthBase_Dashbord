<!-- <div class="total">
  <h1> اضافة امتحان قصير جديد</h1>

  <div class="edit-form">
    <form [formGroup]="QuizForm" (ngSubmit)="onSubmit()">
      <div class="form-group" *ngIf="QuizForm.controls['StopLiveWatchingDateTime'].errors?.['required']">
        <label for="name">الاسم</label>
        <input id="name" name="name" formControlName="name" type="text" required>
      </div>
      <div class="form-group" *ngIf="QuizForm.controls['StopLiveWatchingDateTime'].errors?.['required']">
        <label for="degree">الدرجة</label>
        <input id="degree" name="degree" formControlName="degree" type="number" required>
      </div>
      <div class="form-group" *ngIf="QuizForm.controls['StopLiveWatchingDateTime'].errors?.['required']">
        <label for="examDuration">المدة</label>
        <input id="examDuration" name="examDuration" formControlName="examDuration" type="number" required>
      </div>
      <div class="form-group" *ngIf="QuizForm.controls['StopLiveWatchingDateTime'].errors?.['required']">
        <label for="examOpenDate">البداية</label>
        <input id="examOpenDate" name="examOpenDate" formControlName="examOpenDate" type="datetime-local" required>
      </div>
      <div class="form-group" *ngIf="QuizForm.controls['StopLiveWatchingDateTime'].errors?.['required']">
        <label for="examCloseDate">الانتهاء</label>
        <input id="examCloseDate" name="examCloseDate" formControlName="examCloseDate" type="datetime-local" required>
      </div>
      <div class="form-group" *ngIf="QuizForm.controls['StopLiveWatchingDateTime'].errors?.['required']">
        <label for="lectureID">اضافة الي محاضرة</label>
        <select formControlName="lectureID">
          <option *ngFor="let item of AllLectures" [value]="item.id">{{item.name}}</option>
        </select>
      </div>
      <div class="button-group">
        <button type="button" class="cancel-button" mat-button mat-dialog-close (click)="onNoClick()">خروج</button>
        <button type="submit" class="save-button" mat-button>حفظ</button>
      </div>
    </form>
  </div>
</div> -->
<div class="container add">
  <h1 mat-dialog-title>اضافة امتحان صغير </h1>
  <div class="container mt-5">
    <form [formGroup]="QuizForm" mat-dialog-content enctype="multipart/form-data" mat-dialog-content>
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="input1" class="form-label">الاسم</label>
            <input type="text" class="form-control" id="input1" name="name" formControlName="name" required>
            <div class="form-group" *ngIf="QuizForm.controls['name'].errors?.['required']">
              <div *ngIf="QuizForm.controls['name']?.touched  && QuizForm.controls['name']?.invalid"
                class="text-danger">
                ادخل الاسم
              </div>
              <div class="text-danger" *ngIf="invalid && QuizForm.controls['name']?.touched ==false">
                ادخل الاسم
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="dropdown" class="form-label">الدرجة</label>
            <input type="number" class="form-control" id="input1" name="name" formControlName="degree" >
            <div class="form-group" *ngIf="QuizForm.controls['degree'].errors?.['required']">
              <div *ngIf="QuizForm.controls['degree']?.touched  && QuizForm.controls['degree']?.invalid"
                class="text-danger">
                ادخل الدرجة
              </div>
              <div class="text-danger" *ngIf="invalid && QuizForm.controls['degree']?.touched ==false">
                ادخل الدرجة
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="dropdown" class="form-label">المدة (دقيقة)</label>
            <input type="number" class="form-control" id="input1" name="name" formControlName="examDuration" >
            <div class="form-group" *ngIf="QuizForm.controls['examDuration'].errors?.['required']">
              <div *ngIf="QuizForm.controls['examDuration']?.touched  && QuizForm.controls['examDuration']?.invalid"
                class="text-danger">
                ادخل المدة
              </div>
              <div class="text-danger" *ngIf="invalid && QuizForm.controls['examDuration']?.touched ==false">
                ادخل المدة
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="dropdown" class="form-label">بدا الامتحان الصغير</label>
            <input class="form-control" id="input1" type="datetime-local" name="name" formControlName="examOpenDate">
            <div class="form-group" *ngIf="QuizForm.controls['examOpenDate'].errors?.['required']">
              <div *ngIf="QuizForm.controls['examOpenDate']?.touched  && QuizForm.controls['examOpenDate']?.invalid"
                class="text-danger">
                ادخل الامتحان الصغير
              </div>
              <div class="text-danger" *ngIf="invalid && QuizForm.controls['degexamOpenDateree']?.touched ==false">
                ادخل الامتحان الصغير
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="dropdown" class="form-label">انتهاء الامتحان الصغير</label>
            <input class="form-control" id="input1" type="datetime-local" name="name" formControlName="examCloseDate">
            <div class="form-group" *ngIf="QuizForm.controls['examCloseDate'].errors?.['required']">
              <div *ngIf="QuizForm.controls['examCloseDate']?.touched  && QuizForm.controls['examCloseDate']?.invalid"
                class="text-danger">
                انتهاء الامتحان الصغير
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="dropdown" class="form-label">النسبة المئوية لعرض الامتحان الصغير(%)</label>
            <input class="form-control" id="input1" type="number" max="100" min="1" name="name"
              formControlName="precentageToOpen">
            <div class="form-group" *ngIf="QuizForm.controls['precentageToOpen'].errors?.['required']">
              <div
                *ngIf="QuizForm.controls['precentageToOpen']?.touched  && QuizForm.controls['precentageToOpen']?.invalid"
                class="text-danger">
                النسبة المئوية لعرض الامتحان الصغير(%)
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="mb-3">
            <label for="input3" class="form-label">المحاضرة </label>
            <!-- <select formControlName="lectureID" class="form-control" id="input3" autocomplete="on">
              <option *ngFor="let item of AllLectures" [value]="item.id">{{item.name}}</option>
            </select> -->
            <ng-autocomplete class="form-control" [data]="AllLectures" [searchKeyword]="keyword"
            placeholder="اختار المحاضرة" 
            formControlName="lectureID" (selected)='selectEvent($event)'
            (inputChanged)='onChangeSearch($event)' (inputFocused)='onFocused($event)'
            [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">
          </ng-autocomplete>

          <ng-template #itemTemplate let-item>
            <a [innerHTML]="item.name"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="">لا يوجد</div>
          </ng-template>

          <div class="text-danger" *ngIf="(valuebool == true) ">
            الرجاء ادخل الكتابة صحيحه
           </div>

            <div class="form-group" *ngIf="QuizForm.controls['lectureID'].errors?.['required']">
              <div *ngIf="QuizForm.controls['lectureID']?.touched  && QuizForm.controls['lectureID']?.invalid"
                class="text-danger">
                ادخل المحاضرة
              </div>
              <div class="text-danger" *ngIf="invalid && QuizForm.controls['lectureID']?.touched ==false">
                ادخل المحاضرة
              </div>
            </div>
          </div>
        </div>
        
        
      </div>
      <div class="mt-3 btnConCam d-flex justify-content-end">
        <button type="submit" class="btn btn-primary mx-3 " (click)="onSubmit()">حفظ</button>
        <button type="submit" class="btn btn-danger mx-3 " (click)="onNoClick()">خروج</button>
      </div>

    </form>
  </div>
</div>